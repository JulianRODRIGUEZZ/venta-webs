---
import LogoSlide from '../components/LogoSlide.astro';
import SuscribeForm from '../newsletter/SuscribeForm.astro';

const phone = "50768059285"; // número de WhatsApp con indicativo de país
const message = "Hola, quiero más información para crear mi pagina web"; // mensaje inicial
const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
---

<section class="animate-fade-in-down animate-delay-300 relative overflow-hidden min-h-screen flex flex-col" id="hero">

  <!-- Particles background -->
  <div id="particles-js" class="absolute inset-0 w-full h-full"></div>

  <!-- Contenido Hero -->
  <div class=" container mx-auto px-4 py-16 sm:py-24 lg:py-32 relative z-10 flex-1 flex flex-col">
    <div class="mx-auto max-w-4xl text-center flex-1 flex flex-col justify-center">

      <!-- Badge -->
      <div class="mb-6 sm:mb-8">
        <span class="inline-flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm rounded-full bg-white/10 backdrop-blur-md text-orange-500 font-bold border border-white/20">
          🚀 Impulsa tu Marca
        </span>
      </div>

      <!-- Main-->
      <div class=" mb-6 sm:mb-10" >
        <h1 class="text-3xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold tracking-tight text-gray-200 leading-tight">
          Creamos <strong>páginas web</strong><br />
        </h1>

        <h1 class="mt-4 text-2xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold flex flex-wrap justify-center items-center gap-x-2 sm:gap-x-4">
          <span id="typewriter" class="text-orange-500 flex-shrink-0"></span>
          <em class="italic hidden sm:inline"></em>
        </h1>
      </div>

      <!-- Description -->
      <p class=" mx-auto mb-10 sm:mb-12 max-w-xl sm:max-w-2xl text-base sm:text-lg text-gray-400 px-2" >
        Desarrollamos sitios web profesionales, rápidos y optimizados con las últimas tecnologías. 
        Desde landing pages hasta tiendas online completas, convertimos tu visión en realidad digital.
      </p>

      <!-- formulario suscribe -->
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6" >

        <SuscribeForm />
        
    </div>

    <!-- Logos en movimiento -->
    <div class="mt-12 sm:mt-16">
      <LogoSlide />
    </div>
  </div>
</section>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js" is:inline></script>
<script is:inline>
  if (typeof window !== "undefined") {
    // Particles config SOLO para este hero
    particlesJS("particles-js", {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: "#ffffff" },
        shape: { type: "circle" },
        opacity: { value: 0.5 },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: "#ffffff",
          opacity: 0.4,
          width: 1
        },
        move: { enable: true, speed: 6, direction: "none", out_mode: "out" }
      },
      interactivity: {
        events: {
          onhover: { enable: true, mode: "repulse" },
          onclick: { enable: true, mode: "push" }
        }
      },
      retina_detect: true
    });

    // Typewriter effect
    window.addEventListener('DOMContentLoaded', () => {
      const el = document.getElementById("typewriter");
      if (!el) return;

      const palabras = ["Modernas para tu negocio", "Con la Última Tecnología", "Con la Mejor Optimización"];
      let i = 0, j = 0, borrando = false;
      const velocidad = 120, velocidadBorrado = 60, pausaPalabra = 1500;

      function escribir() {
        const palabraActual = palabras[i];

        if (!borrando && j < palabraActual.length) {
          el.textContent = palabraActual.substring(0, j + 1);
          j++;
          setTimeout(escribir, velocidad);
        } else if (borrando && j > 0) {
          el.textContent = palabraActual.substring(0, j - 1);
          j--;
          setTimeout(escribir, velocidadBorrado);
        } else if (!borrando && j === palabraActual.length) {
          borrando = true;
          setTimeout(escribir, pausaPalabra);
        } else if (borrando && j === 0) {
          borrando = false;
          i = (i + 1) % palabras.length;
          setTimeout(escribir, velocidad);
        }
      }

      escribir();
    });
  }
</script>

<!-- Cursor del typewriter -->
<style>
  #typewriter::after {
    content: '|';
    animation: blink 0.7s infinite;
    color: #fff;
    margin-left: 2px;
  }
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
</style>
