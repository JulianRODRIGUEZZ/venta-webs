---
import LogoSlide from '../components/LogoSlide.astro';
import SuscribeForm from '../newsletter/SuscribeForm.astro';

const phone = "50768059285";
const message = "Hola, quiero m치s informaci칩n para crear mi pagina web";
const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
---

<section class="animate-fade-in-down animate-delay-300 relative overflow-hidden min-h-screen flex flex-col" id="hero">

  <!-- Particles background -->
  <div id="particles-js" class="absolute inset-0 w-full h-full"></div>

  <!-- Contenido Hero -->
  <div class="container mx-auto px-4 py-16 relative z-10 flex-1 flex items-center">
    <div class="w-full max-w-4xl mx-auto text-center">

      <!-- Badge -->
      <div class="mb-6 py-8">
        <span class="inline-flex items-center gap-2 px-4 py-2 text-sm rounded-full bg-white/10 backdrop-blur-md text-orange-500 font-bold border border-white/20">
          游 Impulsa tu Marca
        </span>
      </div>

      <!-- Main Heading -->
      <div class="mb-10">
        <h1 class="text-4xl md:text-6xl font-bold tracking-tight text-gray-200 leading-tight mb-4">
          Creamos <strong class="text-white">p치ginas web</strong>
        </h1>

        <h1 class="text-3xl md:text-5xl font-bold">
          <span id="typewriter" class="text-orange-500 inline-block min-h-[1.2em]"></span>
        </h1>
      </div>

      <!-- Description -->
      <p class="mx-auto mb-12 max-w-2xl text-base md:text-lg text-gray-400 leading-relaxed">
        Desarrollamos sitios web profesionales, r치pidos y optimizados con las 칰ltimas tecnolog칤as. 
        Desde landing pages hasta tiendas online completas, convertimos tu visi칩n en realidad digital.
      </p>

      <!-- CTA Button de prueba -->
      <div class="mb-16">
      <SuscribeForm />
      </div>

      <!-- Logos en movimiento -->
      <div class="mt-auto">
        <LogoSlide />
      </div>
    </div>
  </div>
</section>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js" is:inline></script>
<script is:inline>
  if (typeof window !== "undefined") {
    const isMobile = window.innerWidth < 768;
    
    particlesJS("particles-js", {
      particles: {
        number: { 
          value: isMobile ? 40 : 80, 
          density: { enable: true, value_area: 800 } 
        },
        color: { value: "#ffffff" },
        shape: { type: "circle" },
        opacity: { value: isMobile ? 0.3 : 0.5 },
        size: { value: isMobile ? 2 : 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: "#ffffff",
          opacity: isMobile ? 0.2 : 0.4,
          width: 1
        },
        move: { 
          enable: true, 
          speed: isMobile ? 3 : 6, 
          direction: "none", 
          out_mode: "out" 
        }
      },
      interactivity: {
        events: {
          onhover: { enable: !isMobile, mode: "repulse" },
          onclick: { enable: true, mode: "push" }
        }
      },
      retina_detect: true
    });

    // Typewriter effect
    window.addEventListener('DOMContentLoaded', () => {
      const el = document.getElementById("typewriter");
      if (!el) return;

      const palabras = [
        "Modernas para tu negocio", 
        "Con la 칔ltima Tecnolog칤a", 
        "Con la Mejor Optimizaci칩n"
      ];
      let i = 0, j = 0, borrando = false;
      const velocidad = 120, velocidadBorrado = 60, pausaPalabra = 1500;

      function escribir() {
        const palabraActual = palabras[i];

        if (!borrando && j < palabraActual.length) {
          el.textContent = palabraActual.substring(0, j + 1);
          j++;
          setTimeout(escribir, velocidad);
        } else if (borrando && j > 0) {
          el.textContent = palabraActual.substring(0, j - 1);
          j--;
          setTimeout(escribir, velocidadBorrado);
        } else if (!borrando && j === palabraActual.length) {
          borrando = true;
          setTimeout(escribir, pausaPalabra);
        } else if (borrando && j === 0) {
          borrando = false;
          i = (i + 1) % palabras.length;
          setTimeout(escribir, velocidad);
        }
      }

      escribir();
    });
  }
</script>

<!-- Cursor del typewriter -->
<style>
  #typewriter::after {
    content: '|';
    animation: blink 0.7s infinite;
    color: #fff;
    margin-left: 2px;
  }
  
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
</style>